<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Web USB</title>
  </head>
  <body>
    <input type="button" onclick="scanForDevice()" value="Scan" />

    <script type="text/javascript">
        function scanForDevice() {
            let device;
            
            navigator.usb.requestDevice({filters:[]})
                .then(selectedDevice => {
                    console.log(selectedDevice);
                    device = selectedDevice;
                    return device.open(); // Begin a session.
                })
                .then(() => device.selectConfiguration(1))
                .then(() => device.claimInterface(0))
                .then(() => device.controlTransferOut({
                    requestType: 'class',
                    recipient: 'interface',
                    request: 0x22,
                    value: 0x01,
                    index: 0x00})) // Ready to receive data
                .then(() => device.transferIn(5, 512))
                .then(result => console.log(result))
                .catch(error => { 
                    console.log(error.message); 
                });
        }
    </script>
  </body>
</html>